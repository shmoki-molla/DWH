# DWH

# ETL-–ø—Ä–æ–µ–∫—Ç: –ò–º–∏—Ç–∞—Ü–∏—è DWH —Å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–µ–π –≤ Airflow

**–¶–µ–ª—å:** —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫–≤–æ–∑–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö ‚Äî –æ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö –¥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–æ–≤ –≤ Superset. –í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ —Å –ø–æ–º–æ—â—å—é Apache Airflow.

## üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Docker**, **Git**
- **Apache Airflow** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –ø–∞–π–ø–ª–∞–π–Ω–æ–≤
- **PostgreSQL**, **MySQL**, **ClickHouse** ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –≤–∏—Ç—Ä–∏–Ω—ã –¥–∞–Ω–Ω—ã—Ö
- **Apache Superset** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–∞—à–±–æ—Ä–¥—ã
- **Open API –¶–ë –†–§** ‚Äî –≤–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –æ –≤–∞–ª—é—Ç–Ω—ã—Ö –∫—É—Ä—Å–∞—Ö
- **pandas** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Python

---

## üîÅ –õ–æ–≥–∏–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞

### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- `transactions.csv` ‚Äî –ø—Å–µ–≤–¥–æ—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- MySQL:
  - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
  - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- PostgreSQL:
  - –≤–∞–ª—é—Ç–Ω—ã–µ –∫—É—Ä—Å—ã —Å Open API –¶–µ–Ω—Ç—Ä–æ–±–∞–Ω–∫–∞ –†–§

### 2. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

- –ü–µ—Ä–µ–Ω–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ PostgreSQL
- –ü–µ—Ä–µ—Å—á–µ—Ç —Å—É–º–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Ä—É–±–ª–∏ (–ø–æ –∫—É—Ä—Å—É –Ω–∞ –¥–∞—Ç—É)

### 3. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–∏—Ç—Ä–∏–Ω –≤ ClickHouse

- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã —Ç—Ä–∞—Ç
- –ê–≥–≥—Ä–µ–≥–∞—Ü–∏–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

### 4. –î–∞—à–±–æ—Ä–¥ –≤ Superset

- –°—Ä–µ–¥–Ω–∏–µ —Ç—Ä–∞—Ç—ã –ø–æ –≤–∞–ª—é—Ç–∞–º
- –ë–∞–ª–∞–Ω—Å –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—è–º
- –°—Ä–µ–¥–Ω–∏–µ —Ç—Ä–∞—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—è–º

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

![architecture](assets/images/architecture.png)

---

## üìä DAG-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Airflow


![master-dag](assets/images/master-dag.png)

![master-clickhouse](assets/images/master-clickhouse.png)

---

## üöÄ –ó–∞–ø—É—Å–∫

> –¢—Ä–µ–±—É–µ—Ç—Å—è Docker –∏ Docker Compose

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/shmoki-molla/DWH.git
cd dwh


